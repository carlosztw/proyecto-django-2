{% extends 'app/base.html' %}
{% block titulo %} Carro de compras {% endblock %}

{% load static %}
{% block css %}
<link rel="stylesheet" href="{% static 'app/css/carrito.css' %}">
{% endblock %}

{% block contenido %}

<div>  
  <br>
  <h1 class="titulo1"> Carrito de Compras </h1>  
</div>

<div class="container-fluid">
  {% if request.session.carrito.items %}
  {% for key, value in request.session.carrito.items %}
  
  <div class="justify-content-center" id="contenido">

    <div class="table-responsive col-6" id="tabla">
      <table class="table table-striped table-hover table-bordered">
        <thead id="datos">
          <tr>
            <th scope="row" colspan="4" class="text-center"> Contenido</th>
          </tr>
          <tr class="text-center">
            <th scope="row"> Producto </th>
            <th scope="row"> Precio </th>
            <th scope="row"> Cantidad </th>
            <th scope="row"> Subtotal </th>
          </tr>
        </thead>

        <tbody>
            <tr>
              <td> {{value.nombre}} </td>
              <td> {{value.precio}} </td>
              <td> {{value.cantidad}} </td>
              <td> {{value.Subtotal}} 
                <a href="#" class="badge btn btn-dark badge-dark">+</a>
                <a href="#" class="badge btn btn-dark badge-dark">-</a>
              </td>
            </tr>

            <tr>
              <td colspan="4">
                <div class="aler alert-danger text-center"> Sin productos </div>
              </td>
            </tr>
          </tbody>
      </table>

    </div> <!-- TABLA 1 -->
      
    <div class="table-responsive col-4" id="tabla"> <!-- TABLA 2 -->
      <table class="table table-striped table-bordered">

        <thead id="datos">
          <tr>
            <th scope="col" colspan="2" class="text-center"> Total del carrito </th>
          </tr>
        </thead>

        <tbody id="datos">
          
            <tr>
              <th> Subtotal </th>
              <td> {{value.subtotal}} </td>
            </tr>

            <tr>
              <th> Env√≠o </th>
              <td> {{value.envio}} </td>
            </tr>

            <tr>
              <th> Total </th>
              <td> $ {{value.total_carrito}} </td>
            </tr>

          </tbody>
      </table>
      
      <tr>
        <td>
          <div colspan="5"><a href="#" class="btn btn-success"> Comprar </a></div>
        </td>
      </tr>
    </div>

  </div> 
  {% endfor %}
  {% else %}
    <div>
      <div class="justify-content-center" style="text-align: center; margin: 3%; ">
        <img src="{% static 'app/img/bag2-150.png' %}" alt="" width="150" height="150">
      </div>
      <div class="text-center px-3 py-2" style="font-weight: lighter; font-style: oblique; font-size: 120%;" > Sin productos en el carrito</div>
      
      <div class="justify-content-center" id="btn-vacio">
        <a href="#" class="btn btn-dark justify-content-center col-12" style="font-weight: bold;"> Volver a la Tienda </a>
      </div>

    </div>
  
  {% endif %}

</div>

{% endblock %}